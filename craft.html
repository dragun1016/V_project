<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="styles.css">
<title>롤토체스 배치표</title>
<style>
    * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        #top_bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #EBC284;
            height: 55px;
            z-index: 100;
        }

        .icon-container, .menu-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .icon-container {
            margin-left: 240px;
        }

        .menu-container {
            margin-right: 240px;
        }
        a {
            color: black;
            text-decoration: none;
        }
        #menu > li > a{
            display: flex;
            justify-content: center;
            align-items: center;
            width: 75px;
            height: 40px;
        }
        #menu {
            list-style-type: none;
            display: flex;
            gap: 24px;
            margin-left: auto;
            padding-right: 40px;
        }
        body {
            background-color: #1E1E1E;
        }
        #bottom {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    margin-top: 30px;
        }
    h1 {
        color: white;
    }
    p {
        color: white;
    }
    /* 간단한 스타일을 지정할 수 있습니다. */
.champion-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  padding: 20px;
}
.champion {
  width: 100px;
  height: 100px;
  background-color: #f2f2f2;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid #ccc;
}
/* 이미지 아래의 이름을 중앙 정렬시키기 위한 추가 스타일링 */
.champion-grid {
  display: flex;
  justify-content: flex-start; /* 아이템을 왼쪽으로 정렬 */
  flex-wrap: wrap; /* 아이템이 너비를 벗어날 때 줄바꿈 처리 */
}

.champion-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 5px; /* 챔피언 아이템 간격 조정 */
}

.champion-image {
  width: 80px; /* 이미지 너비 조정 */
  height: 80px; /* 이미지 높이 조정 */
  object-fit: cover; /* 이미지 비율 유지하며 크롭 */
}

.champion-name {
  margin-top: 3px; /* 이름과 이미지 간격 조절 */
  text-align: center; /* 이름 중앙 정렬 */
}

/* 챔피언 간 간격 조정 */
.champion-container + .champion-container {
  margin-left: 10px; /* 원하는 간격으로 조정 */
}
.synergy-filters {
    background-color: #1E1E1E;
    width: 1366px;
  display: flex;
  overflow-x: auto; /* 가로 스크롤 가능하도록 설정 */
  white-space: nowrap; /* 버튼이 한 줄에 나열되도록 설정 */
  margin-top: 15px;
}

.synergy-button {
  width: 52px;
  height: 52px;
  border-radius: 50px;
  margin-right: 10px; /* 버튼 사이의 간격 조정 */
  display: flex;
  justify-content: center;
  align-items: center;
}

.champion-name {
  margin-top: 3px; /* 이름과 이미지 간격 조절 */
  text-align: center; /* 이름 중앙 정렬 */
  color: white; /* 이름 흰색으로 설정 */
}
#champion-placement {
    width: 1440px;
    height: 474px;
    background-color: #282830;
    border: 50px;
    border-radius: 30px;
    }
#activeSynergy {
    width: 220px;
    height: 75px;
    background-color: #282830;
    border-radius: 13px;
    margin-top: 48px;
    margin-bottom: 48px;
}
/* 배치표 스타일링 */
.board {
  width: 400px;
  height: 300px;
  border: 2px dashed #aaa;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  padding: 10px;
  margin-top: 20px;
}

/* 이미지를 수평으로 가운데 정렬하기 위한 스타일 */

</style>
</head>
<body>

    <header>
        <div id="top_bar">
            <div class="icon-container">
                <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 30 28" fill="none">
                        <path d="M13.4427 13.6368L15.1667 10.4424L16.8906 13.6368L15.1667 15.5298L13.4427 13.6368Z" fill="#1A1A1A"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.7157 23.2843 0 15 0C6.7157 0 0 6.7157 0 15C0 23.2843 6.7157 30 15 30ZM7.90143 15.8848C7.55524 19.5167 9.74854 20.9723 9.99481 20.9723V24.1667C8.72235 23.5751 6.15289 22.0607 6.05438 20.7356C5.95587 19.4105 6.01337 14.5834 6.05438 12.3354L7.28577 11.2706C7.77832 11.9805 8.98511 13.3529 9.8717 13.1636L9.90326 13.1569C11.0237 12.9179 13.3196 12.4283 13.3196 9.49591L12.5807 8.31281L15.1667 5L17.7526 8.31281L17.0137 9.49591C17.0137 12.4283 19.3096 12.9179 20.4301 13.1569L20.4616 13.1636C21.3482 13.3529 22.555 11.9805 23.0475 11.2706L24.2789 12.3354C24.32 14.5834 24.3774 19.4105 24.2789 20.7356C24.1804 22.0607 21.611 23.5751 20.3386 24.1667V20.9723C20.5848 20.9723 22.7781 19.5167 22.4319 15.8848C22.4479 16.5813 15.1667 17.5411 15.1667 17.5411C15.1667 17.5411 7.88544 16.5813 7.90143 15.8848ZM15.0435 20.144C14.592 20.3018 13.689 20.6409 13.689 20.7356C13.689 20.8302 14.592 21.5638 15.0435 21.9187C15.4951 21.5638 16.3981 20.8302 16.3981 20.7356C16.3981 20.6409 15.4951 20.3018 15.0435 20.144ZM9.99628 17.9414C9.9953 17.9656 9.99481 17.9899 9.99481 18.0144C9.99481 19.0599 10.877 19.9074 11.9651 19.9074C12.748 19.9074 13.4243 19.4686 13.742 18.8331L9.99628 17.9414ZM20.1452 18.0144C20.1452 17.9899 20.1447 17.9656 20.1438 17.9414L16.3981 18.8331C16.7158 19.4686 17.3921 19.9073 18.175 19.9073C19.2631 19.9073 20.1452 19.0599 20.1452 18.0144Z" fill="#1A1A1A"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="70" height="22" viewBox="0 0 62 22" fill="none">
                        <path d="M13.196 0V2.51613H8.05625V18H5.18755V2.51613H0V0H13.196Z" fill="#1A1A1A"/>
                        <path d="M28.5495 0V2.51613H19.0111V7.71774H27.0195V10.2097H19.0111V18H16.1424V0H28.5495Z" fill="#1A1A1A"/>
                        <path d="M43.9653 0V2.51613H38.8256V18H35.9569V2.51613H30.7693V0H43.9653Z" fill="#1A1A1A"/>
                        <path d="M54.9478 0L62 18H58.9162L57.0515 13.2339H49.3538L47.4653 18H44.3814L51.5532 0H54.9478ZM50.334 10.7177H56.0714L53.2505 3.53226L50.334 10.7177Z" fill="#1A1A1A"/>
                      </svg>
                </a>
            </div>
            <nav>
                <ul id="menu" class="menu-container">
                    <li><a href="./main.html">홈</a></li>
                    <li><a href="./augment.html">증강체 찾기</a></li>
                    <li><a href="./info.html">전적 찾기</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div id="bottom">
        <!-- 드롭 영역에 드롭 가능 설정과 드롭 이벤트 리스너를 추가합니다. -->
<div id="champion-placement" class="board" ondragover="event.preventDefault()" ondrop="handleDrop(event)">
    <!-- 드롭한 챔피언을 표시할 부분입니다. -->
  </div>
  
        <div id="activeSynergy">
        </div>
    <h1>챔피언 목록</h1>
    <p>챔피언을 배치표에 드래그 해보세요!!</p>
    <div class="cost-filters">
        <button class="cost-button" data-cost="1">1 Cost</button>
        <button class="cost-button" data-cost="2">2 Cost</button>
        <button class="cost-button" data-cost="3">3 Cost</button>
        <button class="cost-button" data-cost="4">4 Cost</button>
        <button class="cost-button" data-cost="5">5 Cost</button>
      </div>
      <!-- 시너지 버튼을 추가한 부분 -->
<div class="synergy-filters">
    <button class="synergy-button" data-synergy="Bastion"></button>
    <button class="synergy-button" data-synergy="Bruiser"></button>
    <button class="synergy-button" data-synergy="Challenger"></button>
    <button class="synergy-button" data-synergy="Deadeye"></button>
    <button class="synergy-button" data-synergy="Empress"></button>
    <button class="synergy-button" data-synergy="Gunner"></button>
    <button class="synergy-button" data-synergy="Invoker"></button>
    <button class="synergy-button" data-synergy="Juggernaut"></button>
    <button class="synergy-button" data-synergy="Multicaster"></button>
    <button class="synergy-button" data-synergy="Redeemer"></button>
    <button class="synergy-button" data-synergy="Rogue"></button>
    <button class="synergy-button" data-synergy="Slayer"></button>
    <button class="synergy-button" data-synergy="Sorcerer"></button>
    <button class="synergy-button" data-synergy="Strategist"></button>
    <button class="synergy-button" data-synergy="Technogenius"></button>
    <button class="synergy-button" data-synergy="Darkin"></button>
    <button class="synergy-button" data-synergy="Demacia"></button>
    <button class="synergy-button" data-synergy="Freljord"></button>
    <button class="synergy-button" data-synergy="Ionia"></button>
    <button class="synergy-button" data-synergy="Noxus"></button>
    <button class="synergy-button" data-synergy="Piltover"></button>
    <button class="synergy-button" data-synergy="Shadow Isles"></button>
    <button class="synergy-button" data-synergy="Shurima"></button>
    <button class="synergy-button" data-synergy="Targon"></button>
    <button class="synergy-button" data-synergy="Void"></button>
    <button class="synergy-button" data-synergy="Wanderer"></button>
    <button class="synergy-button" data-synergy="Yodle"></button>
    <button class="synergy-button" data-synergy="Zaun"></button>
    <!-- 다른 시너지 버튼도 추가할 수 있습니다. -->
    </div>

  <div class="champion-grid" id="champion-grid">
    <!-- 여기에 챔피언 칸이 들어갈 것입니다. -->
  </div>
</div>
  <!-- 이전 코드 다음에 추가 -->
  
</body>
<script>
const champions = [
  //1 cost
  { name: "뽀삐", cost: 1 , synergy: ["Bastion" ,"Demacia" ,"Yodle"] },
  { name: "트리스타나", cost: 1 ,synergy: ["Gunner" ,"Yodle"] },
  { name: "말자하", cost: 1 ,synergy: ["Sorcerer" ,"Void"] },
  { name: "케일", cost: 1 ,synergy: ["Slayer" ,"Demacia"]},
  { name: "이렐리아", cost: 1 ,synergy: ["Challenger" ,"Ionia"]},
  { name: "진", cost: 1 ,synergy: ["Ionia" ,"Deadeye"]},
  { name: "카시오페아", cost: 1  ,synergy: ["Invoker" , "Noxus" , "Shurima"]},
  { name: "사미라", cost: 1 ,synergy: ["Challenger" ,"Noxus"]},
  { name: "오리아나", cost: 1 ,synergy: ["Sorcerer" , "Piltover"]},
  { name: "마오카이", cost: 1 , synergy: ["Bastion" , "Shadow Isles"]},
  { name: "비에고", cost: 1 ,synergy: ["Rogue" , "Shadow Isles"]},
  { name: "레넥톤", cost: 1 , synergy: ["Bruiser" , "Shurima"]},
  { name: "초가스", cost: 1 , synergy: ["Bruiser" ,"Void"]},
  //2 cost
  { name: "클레드", cost: 2 ,synergy: ["Slayer" , "Noxus" , "Yodle"]},
  { name: "티모", cost: 2 ,synergy: ["Multicaster" , "Strategist" , "Demacia"]},
  { name: "갈리오", cost: 2 ,synergy: ["Invoker" , "Yodle"]},
  { name: "워윅", cost: 2 ,synergy: ["Challenger" , "Juggernaut" , "Zaun"]},
  { name: "징크스", cost: 2 ,synergy: ["Deadeye" , "Gunner" , "Zaun"]},
  { name: "스웨인", cost: 2 ,synergy: ["Sorcerer" , "Strategist" , "Noxus"]},
  { name: "애쉬", cost: 2 ,synergy: ["Freljord", "Deadeye"]},
  { name: "세트", cost: 2 ,synergy: ["Juggernaut" , "Ionia"]},
  { name: "제드", cost: 2 ,synergy: ["Rogue" , "Slayer" , "Ionia"]},
  { name: "바이", cost: 2 , synergy: ["Bruiser" , "Piltover"]},
  { name: "탈리아", cost: 2 ,synergy: ["Multicaster" , "Shurima"]},
  { name: "소라카", cost: 2 ,synergy: ["Invoker" , "Targon"]},
  { name: "카사딘", cost: 2 , synergy: ["Bastion" , "Void"]},
  //3 cost
  { name: "리산드라", cost: 3 ,synergy: ["Invoker" , "Freljord"]},
  { name: "카르마", cost: 3 ,synergy: ["Invoker" , "Ionia"]},
  { name: "다리우스", cost: 3 ,synergy: ["Juggernaut" , "Noxus"]},
  { name: "에코", cost: 3 ,synergy: ["Rogue" , "Piltover" , "Zaun"]},
  { name: "아크샨", cost: 3 ,synergy: ["Deadeye" , "Shurima"]},
  { name: "카타리나", cost: 3 ,synergy: ["Rogue" , "Noxus"]},
  { name: "소나", cost: 3 ,synergy: ["Multicaster" , "Demacia"]},
  { name: "제이스", cost: 3 ,synergy: ["Gunner" , "Piltover"]},
  { name: "칼리스타", cost: 3 ,synergy: ["Challenger" , "Shadow Isles"]},
  { name: "렉사이", cost: 3 , synergy: ["Bruiser" , "Void"]},
  { name: "타릭", cost: 3 , synergy: ["Bastion" , "Sorcerer" , "Targon"]},
  { name: "벨코즈", cost: 3 ,synergy: ["Multicaster" , "Sorcerer" , "Void"]},
  { name: "가렌", cost: 3 ,synergy: ["Juggernaut" ,"Demacia"]},
  //4 cost
  { name: "럭스", cost: 4 ,synergy: ["Sorcerer" , "Demacia"]},
  { name: "야스오", cost: 4 ,synergy: ["Challenger" , "Ionia"]},
  { name: "자르반 4세", cost: 4 ,synergy: ["Strategist" , "Demacia"]},
  { name: "쉔", cost: 4 , synergy: ["Bastion" , "Invoker" , "Ionia"]},
  { name: "그웬", cost: 4 ,synergy: ["Slayer" , "Shadow Isles"]},
  { name: "나서스", cost: 4 ,synergy: ["Juggernaut" , "Shurima"]},
  { name: "아지르", cost: 4 ,synergy: ["Strategist" , "Shurima"]},
  { name: "아펠리오스", cost: 4 ,synergy: ["Deadeye" , "Targon"]},
  { name: "카이사", cost: 4 ,synergy: ["Challenger" , "Void"]},
  { name: "우르곳", cost: 4 ,synergy: ["Deadeye" , "Zaun"]},
  { name: "제리", cost: 4 ,synergy: ["Gunner" , "Zaun"]},
  { name: "세주아니", cost: 4 , synergy: ["Bruiser" , "Freljord"]},
  //5 cost
  { name: "아트록스", cost: 5 ,synergy: ["Juggernaut" , "Slayer" , "Darkin"]},
  { name: "하이머딩거", cost: 5 ,synergy: ["Technogenius" , "Piltover" , "Yodle"]},
  { name: "아리", cost: 5 ,synergy: ["Sorcerer" ,"Ionia"]},
  { name: "사이온", cost: 5 , synergy: ["Bruiser" , "Noxus"]},
  { name: "세나", cost: 5 ,synergy: ["Gunner" , "Redeemer" , "Shadow Isles"]},
  { name: "크산테", cost: 5 , synergy: ["Bastion" , "Shurima"]},
  { name: "벨베스", cost: 5 ,synergy: ["Empress" , "Void"]},
  { name: "라이즈", cost: 5 ,synergy: ["Invoker" , "Wanderer"]},
];


const championGrid = document.getElementById('champion-grid'); //여기부분 오류!!!

function renderChampions(filterCost) {
  championGrid.innerHTML = '';

  champions.filter(champion => champion.cost === filterCost).forEach(champion => {
    const championContainer = document.createElement('div');
    championContainer.className = 'champion-container';
    
    const championImage = document.createElement('img');
    championImage.src = `images/champion/${champion.name}.png`; // 이미지 파일 경로
    championImage.alt = champion.name;
    championContainer.appendChild(championImage);
    
    const championName = document.createElement('div');
    championName.className = 'champion-name';
    championName.textContent = champion.name;

    championContainer.draggable=true
    championContainer.appendChild(championName);

    // let championHtml = `
    //   <div class="champion-container" draggable="true">
    //     <img src="images/champion/${champion.name}.png" alt="champion.name"/>
    //     <div class="champion-name">${champion.name}</div>
    //   </div>
    // `
    
    // championGrid.appendChild(championHtml);
  });
}

// 시너지 버튼 클릭 시 해당 시너지의 챔피언만 표시하는 함수
function renderChampionsBySynergy(filterSynergy) {
  championGrid.innerHTML = '';

  champions.filter(champion => champion.synergy.includes(filterSynergy)).forEach(champion => {
    const championContainer = document.createElement('div');
    championContainer.className = 'champion-container';
    
    const championImage = document.createElement('img');
    championImage.src = `images/champion/${champion.name}.png`; // 이미지 파일 경로
    championImage.alt = champion.name;
    championContainer.appendChild(championImage);
    
    const championName = document.createElement('div');
    championName.className = 'champion-name';
    championName.textContent = champion.name;
    championContainer.appendChild(championName);
    
    championContainer.draggable=true
    championGrid.appendChild(championContainer);
  });
}

// 이미지를 동적으로 생성하여 버튼에 추가하는 함수

// 페이지 로드 시 각 시너지 버튼에 이미지를 추가


let activeChampion = null;

// 드래그 앤 드롭 이벤트를 설정하는 함수
function setDragAndDrop() {
  // 챔피언 이미지에 대한 드래그 가능 설정
  const championImages = document.querySelectorAll('.champion-image');
  championImages.forEach(championImage => {
    championImage.draggable = true;

    // 드래그 시작 이벤트
    championImage.addEventListener('dragstart', event => {
      activeChampion = champions.find(champion => champion.name === event.target.alt);
    });
  });

  // 드래그 영역에 대한 드롭 가능 설정
  const championPlacement = document.getElementById('champion-placement');

// 드롭 영역에 드래그 가능 설정과 드롭 이벤트 리스너를 추가합니다.
championPlacement.addEventListener('dragover', event => {
  event.preventDefault(); // 기본 동작을 막아 드롭 이벤트를 허용합니다.
});

// 드롭 이벤트
championPlacement.addEventListener('drop', event => {
  event.preventDefault(); // 기본 동작을 막아 드롭 이벤트를 허용합니다.
  const championName = activeChampion.name; // 드래그된 챔피언의 이름을 가져옵니다.

  // 챔피언 이미지를 동적으로 생성하여 추가합니다.
  const championContainer = document.createElement('div');
  championContainer.className = 'champion-container';
  
  const championImage = document.createElement('img');
  championImage.src = `Images/champion/${activeChampionName}.png`; // 이미지 파일 경로
  championImage.alt = championName;
  championImage.className = 'champion-image';
  championImage.draggable = true;
  championContainer.appendChild(championImage);

  // 챔피언 이름을 표시합니다.
  const championNameElement = document.createElement('div');
  championNameElement.className = 'champion-name';
  championNameElement.textContent = championName;
  championContainer.appendChild(championNameElement);

  championPlacement.appendChild(championContainer);

  // 배치한 챔피언의 시너지 정보를 업데이트합니다.
  updateActiveSynergy(activeChampion.synergy);
  
  activeChampion = null; // 드롭한 챔피언 변수를 초기화합니다.
});


    // activeSynergy 업데이트 함수
function updateActiveSynergy(newSynergyList) {
  const activeSynergyContainer = document.getElementById('activeSynergy');
  activeSynergyContainer.innerHTML = ''; // 기존 내용을 지웁니다.

  const synergyCounts = {}; // 시너지 카운트를 저장할 객체

  // 새로운 시너지 리스트를 기반으로 카운트를 업데이트합니다.
  newSynergyList.forEach(synergy => {
    if (synergyCounts[synergy]) {
      synergyCounts[synergy]++;
    } else {
      synergyCounts[synergy] = 0;
    }
  });

  // 시너지 카운트를 activeSynergy에 추가합니다.
  for (const synergyName in synergyCounts) {
    const synergyElement = document.createElement('div');
    synergyElement.textContent = `${synergyName} : ${synergyCounts[synergyName]}`;
    activeSynergyContainer.appendChild(synergyElement);
  }
}

}

// 페이지 로드 시 각 시너지 버튼에 이미지를 추가
document.querySelectorAll('.synergy-button').forEach(button => {
  const synergyName = button.getAttribute('data-synergy');
  addSynergyImage(button, synergyName);
});
//동적으로 이미지 추가
function addSynergyImage(button, synergyName) {
  const image = document.createElement('img');
  image.src = `Images/synergy/${synergyName}.png`; // 이미지 파일 경로
  image.alt = synergyName;
  image.className = 'synergy-image';
  
  button.appendChild(image);
}


// 시너지 버튼 클릭 시 해당 시너지의 챔피언을 표시합니다.
document.querySelectorAll('.synergy-button').forEach(button => {
  button.addEventListener('click', () => {
    const filterSynergy = button.getAttribute('data-synergy');
    renderChampionsBySynergy(filterSynergy);
    setDragAndDrop(); // 드래그 앤 드롭 설정 함수 호출
  });
});

// 초기 페이지 로드 시 모든 챔피언을 표시합니다.

// 가격 버튼 클릭 시 해당 가격의 챔피언만 표시합니다.
document.querySelectorAll('.cost-button').forEach(button => {
  button.addEventListener('click', () => {
    const filterCost = parseInt(button.getAttribute('data-cost'));
    renderChampions(filterCost);
  });
});


</script>
</html>